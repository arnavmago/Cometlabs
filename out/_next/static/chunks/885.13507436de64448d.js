"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{50885:function(e,t,a){a.r(t),a.d(t,{CardContainer:function(){return j}});var i=a(85893),n=a(25675),o=a.n(n),s=a(90629),r=a(87357),l=a(51233),d=a(15861),c=a(54799),h=a(67720),x=a(87918),p=a(13264),g=a(89583),f=a(67294),m=a(2286),w=a(33299);let j=(0,p.Z)(s.Z)(()=>({width:350,minHeight:457,padding:"20px",margin:"20px auto",backgroundColor:"transparent",backgroundImage:"none","#content[aria-hidden=ture]":{display:"none"}})),u=e=>{let{view:t,...a}=e,{data:n}=(0,w.useSession)(),s=null==n?void 0:n.user,p=new Date(a.details.regStartDate),u=new Date(a.details.startDate),y=new Date(a.details.endDate),v=new Date(a.details.regEndDate),b=new Date().getTime(),D=p.getTime()<b?u.getTime()<b?y.getTime()<b?"CodeArena has ended":"Ongoing ".concat(a.type):"Registration close on ".concat(v.toLocaleDateString()):"Registration starts from ".concat(p.toLocaleDateString()),I=a.details.startDate?new Date(a.details.startDate).toLocaleDateString()+" "+new Date(a.details.startDate).toLocaleTimeString().replace(/(.*)\D\d+/,"$1"):"Invalid Date",Z=a.details.endDate?new Date(a.details.endDate).toLocaleDateString()+" "+new Date(a.details.endDate).toLocaleTimeString().replace(/(.*)\D\d+/,"$1"):"Invalid Date",[S,L]=(0,f.useState)(a.count),[T,C]=(0,f.useState)([]);(0,f.useEffect)(()=>{async function e(){let e="Token "+s.accessToken,t=await fetch("https://api-staging.cometlabs.in/organize/countRegistered",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",authorization:e},body:JSON.stringify({eventId:a.festId})});if(t.ok){let e=await t.json();if(L(e.total),C(e.profileImage),0===T.length){for(let t=0;t<e.total;t++){let e="https://avatars.dicebear.com/api/human/".concat(t*Math.floor(1e3*Math.random()),".svg");T.push(e)}C([...T])}}}0===S&&s&&e()});let E=async e=>{console.log(e);try{let t="Token "+s.accessToken,a=await fetch("https://api-staging.cometlabs.in/fests/createFest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({festObj:e})});if(a.ok){let{success:i,error:n}=await a.json();if(i){let a=await fetch("https://api-staging.cometlabs.in/fests/deleteFestRequest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({id:e.festId})});if(a.ok){let e=await fetch("https://api-staging.cometlabs.in/fests/getFestRequests",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t}});if(e.ok){let t=await e.json();console.log(t),window.location.reload()}}localStorage.removeItem("CodeArenaData")}else console.log(n)}else throw Error("ON CodeArena DETAIL SAVE: ERROR")}catch(e){console.log("CodeArena details could not be saved"),console.log(e)}},k=async e=>{console.log(e);try{let t="Token "+s.accessToken,a=await fetch("https://api-staging.cometlabs.in/fests/deleteFestRequest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({id:e.festId})});if(a.ok)localStorage.removeItem("CodeArenaData"),window.location.reload();else throw Error("ON CodeArena DETAIL SAVE: ERROR")}catch(e){console.log("CodeArena details could not be saved"),console.log(e)}},A=async e=>{try{let t="Token "+s.accessToken,a=await fetch("https://api-staging.cometlabs.in/fests/deleteFest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({id:e.festId})});if(a.ok)localStorage.removeItem("CodeArenaData"),window.location.reload();else throw Error("ON CodeArena DETAIL SAVE: ERROR")}catch(e){console.log("CodeArena details could not be saved")}},O=async e=>{try{delete e.approvedBy;let t="Token "+s.accessToken,a=await fetch("https://api-staging.cometlabs.in/fests/createFestRequest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({festObj:e})});if(a.ok){let{success:i,error:n}=await a.json();if(i){let a=await fetch("https://api-staging.cometlabs.in/fests/deleteFest",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:t},body:JSON.stringify({id:e.festId})});a.ok&&window.location.reload(),localStorage.removeItem("CodeArenaData")}else console.log(n)}else throw Error("ON CodeArena DETAIL SAVE: ERROR")}catch(e){console.log("CodeArena details could not be saved")}};return(0,i.jsxs)(j,{elevation:1,sx:{transition:"transform 0.3s",":hover":{transform:"scale(1.05)"}},children:[(0,i.jsx)(r.Z,{sx:{height:"173px",overflow:"hidden",mb:"20px",position:"relative"},children:(0,i.jsx)(o(),{height:180,width:308,alt:a.details.title+" Cometlabs",src:a.details.imageUrl||"https://source.unsplash.com/400x120/?technology,".concat(a.details.imageUrl),loading:"lazy"})}),a.details&&(0,i.jsxs)(l.Z,{sx:{mb:"20px"},children:[(0,i.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between"},alignItems:"center",children:[(0,i.jsx)(d.Z,{variant:"TitleLarge",sx:{fontWeight:500},children:a.details.title}),a.details.websiteUrl&&(0,i.jsx)(c.Z,{href:a.details.websiteUrl||"#",target:"_blank",color:"primary",size:"small","aria-label":a.details.title,children:(0,i.jsx)(g.nkz,{style:{fontSize:"1.3rem"}})})]}),(0,i.jsx)(r.Z,{sx:{height:"60px"},children:a.details.desc?(0,i.jsx)(d.Z,{variant:"LabelLarge",color:"onsurfacevariant.main",children:a.details.desc}):(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"row",mt:.5,justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column",width:"50%"},children:[(0,i.jsx)(d.Z,{variant:"BodyLarge",component:"p",sx:{textAlign:"left",width:"100%"},children:"Start Date"}),(0,i.jsx)(d.Z,{variant:"BodySmall",children:I})]}),(0,i.jsx)(h.Z,{orientation:"vertical",flexItem:!0,sx:{mr:2}}),(0,i.jsxs)(r.Z,{sx:{display:"flex",flexDirection:"column"},alignItems:"center",children:[(0,i.jsx)(d.Z,{variant:"BodyLarge",sx:{textAlign:"left",width:"100%"},children:"End Date"}),(0,i.jsx)(d.Z,{variant:"BodySmall",component:"p",children:Z})]})]})]}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Z,{direction:"row",sx:{mb:"20px",ml:"10px",minHeight:"30px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.count?(0,i.jsx)(l.Z,{direction:"row",position:"relative",children:S&&[..."testing"].map((e,t)=>t<6&&(0,i.jsx)(r.Z,{sx:{background:"white",height:"30px",width:"30px",boxShadow:"0px 4px 16px 0px #00000025",borderRadius:"50%",overflow:"hidden",marginLeft:"-10px",zIndex:{index:t}},children:(0,i.jsx)(o(),{src:"https://avatars.dicebear.com/api/human/".concat(t*Math.floor(1e3*Math.random()),".svg"),height:30,width:30,loading:"lazy",alt:"-photo"})},t))}):(0,i.jsx)(l.Z,{direction:"row",position:"relative",children:S&&T.map((e,t)=>t<6&&(0,i.jsx)(r.Z,{sx:{background:"white",height:"30px",width:"30px",boxShadow:"0px 4px 16px 0px #00000025",borderRadius:"50%",overflow:"hidden",marginLeft:"-10px",zIndex:{index:t}},children:(0,i.jsx)(o(),{src:e,height:30,width:30,objectFit:"cover",loading:"lazy",alt:"-photo"})},t))}),(0,i.jsxs)(d.Z,{variant:"LabelMedium",color:"outline.main",children:[S," Registered"]})]})}),(0,i.jsx)(l.Z,{direction:"row",sx:{my:"20px",justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(x.Z,{sx:{width:"90%",textAlign:"left"},label:D})}),t?(0,i.jsx)(i.Fragment,{children:a.approvedBy?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Z,{rowGap:1,children:[(0,i.jsxs)(l.Z,{direction:"row",columnGap:1,children:[(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Preview/")+a.festId,children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"View"})}),(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Preview/")+a.festId+"/edit",children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Edit"})})]}),(0,i.jsxs)(l.Z,{direction:"row",columnGap:1,children:[(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},onClick:()=>O(a),children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Unapprove"})}),(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},onClick:()=>A(a),children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Delete"})})]})]})}):(0,i.jsxs)(l.Z,{rowGap:1,children:[(0,i.jsxs)(l.Z,{direction:"row",columnGap:1,children:[(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Edit").concat(a.type,"/")+a.festId,children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"View"})}),(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Edit").concat(a.type,"/")+a.festId+"/edit",children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Edit"})})]}),(0,i.jsxs)(l.Z,{direction:"row",columnGap:1,children:[(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},onClick:()=>E(a),children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Approve"})}),(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},onClick:()=>k(a),children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Delete"})})]})]})}):(0,i.jsx)(i.Fragment,{children:a.approvedBy?(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Preview/")+a.festId,children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"View"})}):(0,i.jsx)(m.IH,{variant:"filled",sx:{width:"100%"},href:"/Explore/".concat(a.type,"/Edit").concat(a.type,"/")+a.festId+"/edit",children:(0,i.jsx)(d.Z,{variant:"LabelLarge",children:"Edit"})})})]})};t.default=u}}]);
//# sourceMappingURL=885.13507436de64448d.js.map